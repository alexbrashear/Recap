mutation SignupUser($user: CreateUserInput!) {
    createUser(input: $user) {
        token
        changedUser {
            ...completeUser
        }
    }
}

mutation LoginUser($input: LoginUserInput!) {
    loginUser(input: $input) {
        token
        user {
            ...completeUser
        }
    }
}

mutation UpdateAddress($input: UpdateAddressInput!) {
    updateAddress(input: $input) {
        changedAddress {
            ...completeAddress
            user {
                ...completeUser
            }
        }
    }
}

mutation UpdateUser($input: UpdateUserInput!) {
    updateUser(input: $input) {
        changedUser {
            ...completeUser
        }
    }
}

mutation LoginUserWithSocial($input: LoginUserWithAuth0SocialInput!) {
    loginUserWithAuth0Social(input: $input) {
        changedEdge {
            node {
                ...completeUser
            }
        }
        access_token
        token
    }
}

fragment completeUser on User {
    id
    username
    address {
        ...completeAddress
    }
    film {
        ...photosCount
    }
    photos {
        edges {
            node {
                ...completePhoto
            }
        }
    }
}

fragment completeAddress on Address {
    id
    primaryLine
    secondaryLine
    zipCode
    name
    state
    city
}
